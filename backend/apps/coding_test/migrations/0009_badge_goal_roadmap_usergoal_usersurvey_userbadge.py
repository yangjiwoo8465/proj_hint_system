# Generated by Django 5.0.1 on 2025-11-06 06:10

import django.db.models.deletion
from django.conf import settings
from django.db import migrations, models


class Migration(migrations.Migration):
    dependencies = [
        ("coding_test", "0008_update_ai_model_choices"),
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
    ]

    operations = [
        migrations.CreateModel(
            name="Badge",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                (
                    "badge_type",
                    models.CharField(
                        choices=[
                            ("first_problem", "ì²« ë¬¸ì œ í•´ê²°"),
                            ("problem_streak_7", "7ì¼ ì—°ì† ë¬¸ì œ í’€ì´"),
                            ("problem_streak_30", "30ì¼ ì—°ì† ë¬¸ì œ í’€ì´"),
                            ("problems_10", "ë¬¸ì œ 10ê°œ í•´ê²°"),
                            ("problems_50", "ë¬¸ì œ 50ê°œ í•´ê²°"),
                            ("problems_100", "ë¬¸ì œ 100ê°œ í•´ê²°"),
                            ("all_easy", "ëª¨ë“  Easy ë¬¸ì œ í•´ê²°"),
                            ("speed_master", "ìŠ¤í”¼ë“œ ë§ˆìŠ¤í„° (ë¹ ë¥¸ í•´ê²°)"),
                        ],
                        max_length=50,
                        unique=True,
                        verbose_name="ë±ƒì§€ ìœ í˜•",
                    ),
                ),
                ("name", models.CharField(max_length=100, verbose_name="ë±ƒì§€ ì´ë¦„")),
                ("description", models.TextField(verbose_name="ì„¤ëª…")),
                (
                    "icon",
                    models.CharField(default="ğŸ†", max_length=10, verbose_name="ì•„ì´ì½˜"),
                ),
            ],
            options={
                "verbose_name": "ë±ƒì§€",
                "verbose_name_plural": "ë±ƒì§€ ëª©ë¡",
                "db_table": "badges",
            },
        ),
        migrations.CreateModel(
            name="Goal",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                (
                    "goal_type",
                    models.CharField(
                        choices=[
                            ("daily_login", "ë§¤ì¼ ë¡œê·¸ì¸"),
                            ("daily_problem", "ë§¤ì¼ ë¬¸ì œ í’€ê¸°"),
                            ("weekly_problems", "ì£¼ê°„ ë¬¸ì œ ëª©í‘œ"),
                            ("monthly_problems", "ì›”ê°„ ë¬¸ì œ ëª©í‘œ"),
                        ],
                        max_length=50,
                        verbose_name="ëª©í‘œ ìœ í˜•",
                    ),
                ),
                ("name", models.CharField(max_length=100, verbose_name="ëª©í‘œ ì´ë¦„")),
                ("description", models.TextField(verbose_name="ì„¤ëª…")),
                (
                    "target_value",
                    models.IntegerField(help_text="ì˜ˆ: 7ì¼, 10ë¬¸ì œ", verbose_name="ëª©í‘œ ê°’"),
                ),
            ],
            options={
                "verbose_name": "ëª©í‘œ",
                "verbose_name_plural": "ëª©í‘œ ëª©ë¡",
                "db_table": "goals",
            },
        ),
        migrations.CreateModel(
            name="Roadmap",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                (
                    "recommended_problems",
                    models.JSONField(
                        default=list,
                        help_text="ì„¤ë¬¸ì¡°ì‚¬ ê¸°ë°˜ìœ¼ë¡œ ìƒì„±ëœ ë¬¸ì œ ID ë¦¬ìŠ¤íŠ¸",
                        verbose_name="ì¶”ì²œ ë¬¸ì œ ëª©ë¡",
                    ),
                ),
                ("current_step", models.IntegerField(default=0, verbose_name="í˜„ì¬ ë‹¨ê³„")),
                (
                    "created_at",
                    models.DateTimeField(auto_now_add=True, verbose_name="ìƒì„±ì¼"),
                ),
                ("updated_at", models.DateTimeField(auto_now=True, verbose_name="ìˆ˜ì •ì¼")),
                (
                    "user",
                    models.OneToOneField(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="roadmap",
                        to=settings.AUTH_USER_MODEL,
                        verbose_name="ì‚¬ìš©ì",
                    ),
                ),
            ],
            options={
                "verbose_name": "ë¡œë“œë§µ",
                "verbose_name_plural": "ë¡œë“œë§µ ëª©ë¡",
                "db_table": "roadmaps",
            },
        ),
        migrations.CreateModel(
            name="UserGoal",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                ("current_value", models.IntegerField(default=0, verbose_name="í˜„ì¬ ê°’")),
                (
                    "is_completed",
                    models.BooleanField(default=False, verbose_name="ì™„ë£Œ ì—¬ë¶€"),
                ),
                (
                    "started_at",
                    models.DateTimeField(auto_now_add=True, verbose_name="ì‹œì‘ì¼"),
                ),
                (
                    "completed_at",
                    models.DateTimeField(blank=True, null=True, verbose_name="ì™„ë£Œì¼"),
                ),
                (
                    "goal",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="user_goals",
                        to="coding_test.goal",
                        verbose_name="ëª©í‘œ",
                    ),
                ),
                (
                    "user",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="goals",
                        to=settings.AUTH_USER_MODEL,
                        verbose_name="ì‚¬ìš©ì",
                    ),
                ),
            ],
            options={
                "verbose_name": "ì‚¬ìš©ì ëª©í‘œ",
                "verbose_name_plural": "ì‚¬ìš©ì ëª©í‘œ ëª©ë¡",
                "db_table": "user_goals",
                "ordering": ["-started_at"],
            },
        ),
        migrations.CreateModel(
            name="UserSurvey",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                (
                    "programming_experience",
                    models.CharField(
                        choices=[
                            ("beginner", "ì´ˆê¸‰ (0-1ë…„)"),
                            ("intermediate", "ì¤‘ê¸‰ (1-3ë…„)"),
                            ("advanced", "ê³ ê¸‰ (3ë…„ ì´ìƒ)"),
                        ],
                        max_length=20,
                        verbose_name="í”„ë¡œê·¸ë˜ë° ê²½í—˜",
                    ),
                ),
                (
                    "learning_goals",
                    models.JSONField(
                        default=list,
                        help_text='ì„ íƒí•œ í•™ìŠµ ëª©í‘œ ë¦¬ìŠ¤íŠ¸ (ì˜ˆ: ["ì•Œê³ ë¦¬ì¦˜", "ìë£Œêµ¬ì¡°", "ì½”ë”©í…ŒìŠ¤íŠ¸"])',
                        verbose_name="í•™ìŠµ ëª©í‘œ",
                    ),
                ),
                (
                    "interested_topics",
                    models.JSONField(
                        default=list,
                        help_text='ê´€ì‹¬ ìˆëŠ” ì£¼ì œ ë¦¬ìŠ¤íŠ¸ (ì˜ˆ: ["ë°°ì—´", "ë¬¸ìì—´", "DP"])',
                        verbose_name="ê´€ì‹¬ ë¶„ì•¼",
                    ),
                ),
                (
                    "preferred_difficulty",
                    models.CharField(
                        choices=[
                            ("easy", "ì‰¬ì›€ (Level 1-5)"),
                            ("medium", "ì¤‘ê°„ (Level 6-10)"),
                            ("hard", "ì–´ë ¤ì›€ (Level 11-15)"),
                        ],
                        max_length=20,
                        verbose_name="ì„ í˜¸ ë‚œì´ë„",
                    ),
                ),
                (
                    "daily_problem_goal",
                    models.IntegerField(
                        default=1,
                        help_text="í•˜ë£¨ì— í’€ê³  ì‹¶ì€ ë¬¸ì œ ê°œìˆ˜",
                        verbose_name="í•˜ë£¨ ëª©í‘œ ë¬¸ì œ ìˆ˜",
                    ),
                ),
                (
                    "created_at",
                    models.DateTimeField(auto_now_add=True, verbose_name="ì œì¶œì¼"),
                ),
                (
                    "user",
                    models.OneToOneField(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="survey",
                        to=settings.AUTH_USER_MODEL,
                        verbose_name="ì‚¬ìš©ì",
                    ),
                ),
            ],
            options={
                "verbose_name": "ì‚¬ìš©ì ì„¤ë¬¸ì¡°ì‚¬",
                "verbose_name_plural": "ì‚¬ìš©ì ì„¤ë¬¸ì¡°ì‚¬ ëª©ë¡",
                "db_table": "user_surveys",
            },
        ),
        migrations.CreateModel(
            name="UserBadge",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                (
                    "earned_at",
                    models.DateTimeField(auto_now_add=True, verbose_name="íšë“ì¼"),
                ),
                (
                    "badge",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="user_badges",
                        to="coding_test.badge",
                        verbose_name="ë±ƒì§€",
                    ),
                ),
                (
                    "user",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="badges",
                        to=settings.AUTH_USER_MODEL,
                        verbose_name="ì‚¬ìš©ì",
                    ),
                ),
            ],
            options={
                "verbose_name": "ì‚¬ìš©ì ë±ƒì§€",
                "verbose_name_plural": "ì‚¬ìš©ì ë±ƒì§€ ëª©ë¡",
                "db_table": "user_badges",
                "ordering": ["-earned_at"],
                "unique_together": {("user", "badge")},
            },
        ),
    ]
