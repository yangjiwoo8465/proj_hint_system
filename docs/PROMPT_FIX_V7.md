# 프롬프트 수정 V7 - 진짜 소크라테스식 (대조 학습)

## 문제 상황 (V6 → V7)

### V6의 문제: 막연한 질문

**V6에서 생성된 힌트:**
```
만약 이 작업을 큰 규모로 해야 한다면?
```

**문제:**
- "큰 규모"가 너무 추상적
- 학생이 구체적으로 무엇을 해야 할지 모름
- 소크라테스 학습법의 핵심인 **구체적 상황**이 없음

### 소크라테스 학습법의 진짜 의미

**❌ 잘못된 이해:**
- "어떻게 하면 좋을까?" 식의 추상적 질문
- "효율적인 방법은?" 같은 막연한 질문

**✅ 올바른 이해:**
- **구체적 상황** 제시: "10개 처리해야 한다면 코드 10번 복사?"
- **현실적 불편** 느끼게: "나중에 숫자 바꾸면 모든 줄 수정?"
- **학생이 직접 부딪힘**: "이건 답이 없는데?" → 스스로 해결책 찾기

---

## 핵심 수정 사항

### V6 프롬프트 (Before) - 예시가 막연함

```python
질문 작성 방법:
- "만약 이 작업을 [큰 규모]로 해야 한다면?" 형식
- 학생 코드의 한계를 확장된 상황으로 제시
```

**문제:**
- "[큰 규모]"가 막연함
- 모델이 "큰 규모", "많은 경우" 같은 추상적 표현 사용

---

### V7 프롬프트 (After) - 대조로 학습

```python
질문 작성 원칙:
1. 구체적 상황: "큰 규모"(X) → "10개", "100번", "1000개"(O)
2. 현실적 불편: 추상적 질문(X) → 직접 겪을 불편함(O)
3. 학생 관점: "어떻게 하면 좋을까?"(X) → "너는 어떻게 할 건데?"(O)

나쁜 질문 vs 좋은 질문:
- "큰 규모로 하려면?" (막연) vs "10개 처리하려면 코드 10번 복사?"  (구체적)
- "효율적 방법은?" (추상) vs "나중에 숫자 바꾸면 어쩔 건데?" (현실적)
```

**개선 사항:**
1. **대조(Contrast) 방식** - 나쁜 예 vs 좋은 예
2. **구체적 숫자 요구** - "큰 규모" 금지, "10개, 100번" 권장
3. **현실적 불편 강조** - 학생이 직접 겪을 문제 제시
4. **완전한 예시 문장 제거** - 대조만 보여줌 (복사 방지)

---

## 왜 대조 방식인가?

### 예시 제공의 문제 (V1-V5)

```python
좋은 질문:
- "현재 방식으로 10개 처리해야 한다면 코드를 10번 복사할 건가?"
```
→ 모델이 이걸 그대로 복사: "10개 처리해야 한다면..."

### 대조 방식의 장점 (V7)

```python
"큰 규모로 하려면?" (막연) vs "10개 처리하려면 코드 10번 복사?" (구체적)
```
→ 모델이 **원칙을 이해**하고 **자기 방식으로 질문 생성**

**차이점:**
- 예시: 완전한 문장 제공 → 모델이 복사
- 대조: 나쁜 것 vs 좋은 것만 보여줌 → 모델이 학습

---

## V7 프롬프트 전체

```python
학생 코드:
{user_code}

다음 목표: {next_step_goal}

임무: 학생이 "{next_step_goal}"의 필요성을 스스로 깨닫게 만드는 질문을 한국어 반말로 작성하세요.

절대 금지:
- 함수명, 변수명, 코드 문법 언급
- 백틱, 코드 사용
- 영어 사용
- 설명, 정답, 추가 정보

질문 작성 원칙:
1. 구체적 상황: "큰 규모"(X) → "10개", "100번", "1000개"(O)
2. 현실적 불편: 추상적 질문(X) → 직접 겪을 불편함(O)
3. 학생 관점: "어떻게 하면 좋을까?"(X) → "너는 어떻게 할 건데?"(O)

나쁜 질문 vs 좋은 질문:
- "큰 규모로 하려면?" (막연) vs "10개 처리하려면 코드 10번 복사?" (구체적)
- "효율적 방법은?" (추상) vs "나중에 숫자 바꾸면 어쩔 건데?" (현실적)

출력: 한국어 반말 질문 1개만 (물음표 필수)

질문:
```

---

## 기대 효과

### Before (V6):
```
만약 이 작업을 큰 규모로 해야 한다면?
```
→ 막연함, 학생이 무엇을 해야 할지 모름

### After (V7 예상):
```
체스판을 100개 검사해야 한다면 코드 100번 복사할 건가?
같은 검사를 다른 크기에도 쓰려면 모든 숫자를 일일이 바꿀 건데?
8x8 검사를 나중에 10x10으로 바꾸면 어쩌지?
```
→ 구체적, 현실적, 학생이 불편함을 직접 느낌

---

## V1 → V7 변천사

| 버전 | 핵심 전략 | 문제점 |
|------|-----------|--------|
| **V1** | solution_code 제공 | 함수명 언급 |
| **V2** | 나쁜 예시 추가 | 나쁜 예시 복사 |
| **V3** | 나쁜 예시 제거 | 여전히 예시 의존 |
| **V4** | 질문 방식 예시 | 예시 복사 |
| **V5** | 모든 예시 제거 | 프롬프트 복잡 |
| **V6** | 초간단 명령 | 막연한 질문 |
| **V7** | 대조 학습 | ✅ 구체적 질문 예상 |

---

## 핵심 교훈

### 모델에게 예시 주는 3가지 방법

1. **완전한 예시** (V1-V4)
   ```
   "지금 코드를 100번 복사해야 한다면 어떻게 할까?"
   ```
   → 모델이 그대로 복사

2. **예시 제거** (V5-V6)
   ```
   "구체적 상황 제시하세요"
   ```
   → 모델이 막연하게 질문

3. **대조 학습** (V7) ⭐
   ```
   "큰 규모"(X) vs "10개, 100번"(O)
   ```
   → 모델이 원칙 이해하고 자기 방식으로 생성

---

## 변경 위치

**파일:** [hint-system/app.py](../hint-system/app.py#L322-L348)
**함수:** `_create_analysis_prompt()`
**라인:** 322-348

---

## 소크라테스 학습법 정의 (재정리)

### ❌ 흔한 오해
"어떻게 하면 좋을까?" 식의 추상적 질문

### ✅ 진짜 의미
1. **구체적 문제 상황** 제시
2. 학생이 **직접 불편함을 느낌**
3. "이건 답이 없는데?" → **스스로 해결책** 찾기

### 예시
- 학생: (코드 3줄 하드코딩)
- 질문: "10개 처리하려면 30줄 쓸 건가?"
- 학생: "어... 그건 너무 비효율적인데?"
- 스스로 깨달음: "반복문이 필요하구나!"

---

**작성일:** 2025-01-30
**버전:** V7 (최종)
**이전 버전:** [PROMPT_FIX_V6.md](PROMPT_FIX_V6.md)
