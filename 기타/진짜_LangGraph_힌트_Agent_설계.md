# ì§„ì§œ LangGraph íŒíŠ¸ Agent ì„¤ê³„

> **í•µì‹¬**: LLMì´ ìŠ¤ìŠ¤ë¡œ íŒë‹¨í•˜ê³ , Toolì„ ì‚¬ìš©í•˜ë©°, ìê¸° ê°œì„ í•˜ëŠ” Agent

---

## ğŸ¯ LangGraphì˜ í•µì‹¬ ê°œë…

### Agentë€?

**Agent = LLM + Tools + Memory + Reasoning**

```
ì¼ë°˜ LLM: "ì§ˆë¬¸ â†’ ë‹µë³€" (ë‹¨ìˆœ)
Agent: "ì§ˆë¬¸ â†’ ìƒê° â†’ ë„êµ¬ ì‚¬ìš© â†’ ê´€ì°° â†’ ì¬ì‚¬ê³  â†’ ë„êµ¬ ì‚¬ìš© â†’ ... â†’ ë‹µë³€" (ë³µì¡)
```

---

## ğŸ“Š ì „ì²´ ê·¸ë˜í”„ êµ¬ì¡°

### Mermaid ë‹¤ì´ì–´ê·¸ë¨

```mermaid
graph TB
    START([ì‚¬ìš©ì: íŒíŠ¸ ìš”ì²­]) --> AGENT[Agent<br/>LLMì´ ë‹¤ìŒ í–‰ë™ ê²°ì •]

    AGENT --> DECISION{LLM íŒë‹¨}

    DECISION -->|ë„êµ¬ ì‚¬ìš© í•„ìš”| TOOLS[Tools ì‹¤í–‰]
    DECISION -->|ì™„ë£Œ| END([ìµœì¢… íŒíŠ¸ ë°˜í™˜])

    TOOLS --> T1[analyze_code<br/>ì½”ë“œ ë¶„ì„]
    TOOLS --> T2[search_similar_hints<br/>ìœ ì‚¬ íŒíŠ¸ ê²€ìƒ‰]
    TOOLS --> T3[generate_hint<br/>íŒíŠ¸ ìƒì„±]
    TOOLS --> T4[critique_hint<br/>í’ˆì§ˆ ê²€ì¦]
    TOOLS --> T5[save_to_db<br/>DB ì €ì¥]

    T1 --> AGENT
    T2 --> AGENT
    T3 --> AGENT
    T4 --> AGENT
    T5 --> AGENT

    style START fill:#e1f5e1
    style END fill:#ffe1e1
    style AGENT fill:#fff3cd
    style DECISION fill:#cfe2ff
    style TOOLS fill:#f8d7da
```

---

## ğŸ”„ ReAct íŒ¨í„´ ìƒì„¸ íë¦„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    íŒíŠ¸ Agent ì‹¤í–‰ íë¦„                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ì‚¬ìš©ì ì…ë ¥: "ë¬¸ì œ 1000ë²ˆ íŒíŠ¸ ì¤˜, ì½”ë“œ: print(a+b)"
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  STEP 1: Agent (LLM ì‚¬ê³ )                              â”‚
â”‚                                                        â”‚
â”‚  LLM ìƒê°:                                             â”‚
â”‚  "ì‚¬ìš©ìê°€ íŒíŠ¸ë¥¼ ìš”ì²­í–ˆë„¤. ë¨¼ì € ì½”ë“œë¥¼ ë¶„ì„í•´ì•¼ê² ë‹¤"    â”‚
â”‚                                                        â”‚
â”‚  ê²°ì •: analyze_code ë„êµ¬ ì‚¬ìš©                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  TOOL: analyze_code(user_code="print(a+b)")           â”‚
â”‚                                                        â”‚
â”‚  ì‹¤í–‰:                                                 â”‚
â”‚  - ë¬¸ë²• ì˜¤ë¥˜: 0ê°œ                                      â”‚
â”‚  - íŒ¨í„´ ì¼ì¹˜ë„: 30%                                    â”‚
â”‚  - ë³µì¡ë„: 1                                           â”‚
â”‚  - í’ˆì§ˆ ì ìˆ˜: 40/100                                   â”‚
â”‚                                                        â”‚
â”‚  ê´€ì°°: "ì…ë ¥ ì²˜ë¦¬ ë¶€ë¶„ì´ ì—†ê³ , ë³€ìˆ˜ ì •ì˜ ì•ˆ ë¨"        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  STEP 2: Agent (LLM ì¬ì‚¬ê³ )                            â”‚
â”‚                                                        â”‚
â”‚  LLM ìƒê°:                                             â”‚
â”‚  "ì½”ë“œ ë¶„ì„ ê²°ê³¼ë¥¼ ë´¤ì–´. íŒ¨í„´ ì¼ì¹˜ë„ê°€ 30%ë¡œ ë‚®ë„¤.     â”‚
â”‚   ì…ë ¥ ì²˜ë¦¬ê°€ ë¹ ì¡Œêµ¬ë‚˜. ìœ ì‚¬í•œ ë¬¸ì œì˜ íŒíŠ¸ë¥¼           â”‚
â”‚   ê²€ìƒ‰í•´ì„œ ì°¸ê³ í•´ë³¼ê¹Œ?"                                 â”‚
â”‚                                                        â”‚
â”‚  ê²°ì •: search_similar_hints ë„êµ¬ ì‚¬ìš©                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  TOOL: search_similar_hints(problem_id="1000")        â”‚
â”‚                                                        â”‚
â”‚  ì‹¤í–‰:                                                 â”‚
â”‚  - ë²¡í„° DB ê²€ìƒ‰ (ChromaDB)                            â”‚
â”‚  - ìœ ì‚¬ ë¬¸ì œ íŒíŠ¸ 3ê°œ ë°œê²¬                             â”‚
â”‚                                                        â”‚
â”‚  ê´€ì°°: "ë‹¤ë¥¸ í•™ìƒë“¤ë„ ì…ë ¥ ì²˜ë¦¬ë¥¼ ë¹ ëœ¨ë ¸ê³ ,            â”‚
â”‚         input().split() íŒíŠ¸ê°€ íš¨ê³¼ì ì´ì—ˆìŒ"          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  STEP 3: Agent (LLM ì¬ì‚¬ê³ )                            â”‚
â”‚                                                        â”‚
â”‚  LLM ìƒê°:                                             â”‚
â”‚  "ì¢‹ì•„, ì´ì œ íŒíŠ¸ë¥¼ ìƒì„±í•  ìˆ˜ ìˆê² ì–´.                  â”‚
â”‚   ë¶„ì„ ê²°ê³¼ì™€ ìœ ì‚¬ íŒíŠ¸ë¥¼ ë°”íƒ•ìœ¼ë¡œ ìƒì„±í•˜ì"           â”‚
â”‚                                                        â”‚
â”‚  ê²°ì •: generate_hint ë„êµ¬ ì‚¬ìš©                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  TOOL: generate_hint(context={...})                   â”‚
â”‚                                                        â”‚
â”‚  ì‹¤í–‰:                                                 â”‚
â”‚  - LLMìœ¼ë¡œ íŒíŠ¸ ìƒì„±                                   â”‚
â”‚  - ì»¨í…ìŠ¤íŠ¸: ì½”ë“œ ë¶„ì„ + ìœ ì‚¬ íŒíŠ¸                     â”‚
â”‚                                                        â”‚
â”‚  ìƒì„±ëœ íŒíŠ¸:                                          â”‚
â”‚  "ì…ë ¥ì„ ë°›ëŠ” ë¶€ë¶„ì´ ë¹ ì¡ŒìŠµë‹ˆë‹¤.                        â”‚
â”‚   input().split()ì„ ì‚¬ìš©í•´ë³´ì„¸ìš”..."                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  STEP 4: Agent (LLM ì¬ì‚¬ê³ )                            â”‚
â”‚                                                        â”‚
â”‚  LLM ìƒê°:                                             â”‚
â”‚  "íŒíŠ¸ë¥¼ ìƒì„±í–ˆì–´. ê·¼ë° í’ˆì§ˆì´ ê´œì°®ì„ê¹Œ?               â”‚
â”‚   í’ˆì§ˆ ê²€ì¦ì„ í•œë²ˆ í•´ë³´ì"                              â”‚
â”‚                                                        â”‚
â”‚  ê²°ì •: critique_hint ë„êµ¬ ì‚¬ìš©                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  TOOL: critique_hint(hint="...")                      â”‚
â”‚                                                        â”‚
â”‚  ì‹¤í–‰:                                                 â”‚
â”‚  - ë‹¤ë¥¸ LLMìœ¼ë¡œ í’ˆì§ˆ í‰ê°€                              â”‚
â”‚  - ê¸°ì¤€: êµìœ¡ì  ê°€ì¹˜, ì •ë‹µ ëˆ„ì„¤ ì—¬ë¶€ ë“±               â”‚
â”‚                                                        â”‚
â”‚  í‰ê°€ ê²°ê³¼:                                            â”‚
â”‚  - ì ìˆ˜: 2.5/5 (ë¯¸í¡)                                  â”‚
â”‚  - ë¬¸ì œ: "í•¨ìˆ˜ëª…ì„ ì§ì ‘ ì•Œë ¤ì¤˜ì„œ ë„ˆë¬´ ì‰¬ì›€"           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  STEP 5: Agent (LLM ì¬ì‚¬ê³ )                            â”‚
â”‚                                                        â”‚
â”‚  LLM ìƒê°:                                             â”‚
â”‚  "ì•—, í’ˆì§ˆì´ ë¯¸í¡í•˜ë„¤. í•¨ìˆ˜ëª…ì„ ë¹¼ê³  ë‹¤ì‹œ ë§Œë“¤ì"      â”‚
â”‚                                                        â”‚
â”‚  ê²°ì •: generate_hint ë„êµ¬ ì¬ì‚¬ìš© (ë” ì†Œí¬ë¼í…ŒìŠ¤ì‹)     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  TOOL: generate_hint(context={...}, style="socratic") â”‚
â”‚                                                        â”‚
â”‚  ìƒì„±ëœ íŒíŠ¸ (ê°œì„ ):                                   â”‚
â”‚  "ì…ë ¥ì„ ì–´ë–»ê²Œ ë°›ì•„ì•¼ í• ê¹Œìš”?                         â”‚
â”‚   ë‘ ìˆ˜ë¥¼ ê³µë°±ìœ¼ë¡œ êµ¬ë¶„í•˜ì—¬ ë°›ìœ¼ë ¤ë©´?"                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  STEP 6: Agent (LLM ì¬ì‚¬ê³ )                            â”‚
â”‚                                                        â”‚
â”‚  LLM ìƒê°:                                             â”‚
â”‚  "ë‹¤ì‹œ í’ˆì§ˆ ê²€ì¦í•´ë³´ì"                                 â”‚
â”‚                                                        â”‚
â”‚  ê²°ì •: critique_hint ë„êµ¬ ì‚¬ìš©                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  TOOL: critique_hint(hint="...")                      â”‚
â”‚                                                        â”‚
â”‚  í‰ê°€ ê²°ê³¼:                                            â”‚
â”‚  - ì ìˆ˜: 4.5/5 (ìš°ìˆ˜)                                  â”‚
â”‚  - í†µê³¼!                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  STEP 7: Agent (LLM ìµœì¢… íŒë‹¨)                         â”‚
â”‚                                                        â”‚
â”‚  LLM ìƒê°:                                             â”‚
â”‚  "ì¢‹ì•„, í’ˆì§ˆì´ í†µê³¼í–ˆì–´. ì´ì œ DBì— ì €ì¥í•˜ê³  ëë‚´ì"    â”‚
â”‚                                                        â”‚
â”‚  ê²°ì •: save_to_db ë„êµ¬ ì‚¬ìš©                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  TOOL: save_to_db(hint="...", metrics={...})          â”‚
â”‚                                                        â”‚
â”‚  ì‹¤í–‰:                                                 â”‚
â”‚  - HintRequest ì €ì¥                                    â”‚
â”‚  - HintMetrics ì €ì¥                                    â”‚
â”‚  - ë°°ì§€ íšë“ ì²´í¬                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  STEP 8: Agent (LLM ì¢…ë£Œ íŒë‹¨)                         â”‚
â”‚                                                        â”‚
â”‚  LLM ìƒê°:                                             â”‚
â”‚  "ëª¨ë“  ì‘ì—…ì´ ëë‚¬ì–´. ì‚¬ìš©ìì—ê²Œ ìµœì¢… íŒíŠ¸ë¥¼ ë°˜í™˜"     â”‚
â”‚                                                        â”‚
â”‚  ê²°ì •: ì™„ë£Œ                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
        ì‚¬ìš©ìì—ê²Œ ë°˜í™˜:
        "ì…ë ¥ì„ ì–´ë–»ê²Œ ë°›ì•„ì•¼ í• ê¹Œìš”?
         ë‘ ìˆ˜ë¥¼ ê³µë°±ìœ¼ë¡œ êµ¬ë¶„í•˜ì—¬ ë°›ìœ¼ë ¤ë©´?"
```

---

## ğŸ› ï¸ Tool ì •ì˜ (5ê°œ)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Tool 1: analyze_code                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ì…ë ¥: user_code (str), problem_id (str)               â”‚
â”‚  ê¸°ëŠ¥: ì½”ë“œ ì •ì  ë¶„ì„ (6ê°€ì§€ ë©”íŠ¸ë¦­)                   â”‚
â”‚  ì¶œë ¥: {syntax_errors, test_pass_rate, ...}            â”‚
â”‚  êµ¬í˜„: code_analyzer.py í˜¸ì¶œ                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Tool 2: search_similar_hints                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ì…ë ¥: problem_id (str), user_code (str)               â”‚
â”‚  ê¸°ëŠ¥: ë²¡í„° DBì—ì„œ ìœ ì‚¬í•œ ê³¼ê±° íŒíŠ¸ ê²€ìƒ‰               â”‚
â”‚  ì¶œë ¥: [{"hint": "...", "similarity": 0.85}, ...]      â”‚
â”‚  êµ¬í˜„: ChromaDB ì¿¼ë¦¬                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Tool 3: generate_hint                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ì…ë ¥: context (dict), style (str)                     â”‚
â”‚  ê¸°ëŠ¥: LLMìœ¼ë¡œ íŒíŠ¸ ìƒì„±                               â”‚
â”‚  ì¶œë ¥: hint (str)                                      â”‚
â”‚  êµ¬í˜„: Hugging Face API í˜¸ì¶œ                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Tool 4: critique_hint                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ì…ë ¥: hint (str), context (dict)                      â”‚
â”‚  ê¸°ëŠ¥: íŒíŠ¸ í’ˆì§ˆ ê²€ì¦ (Self-Critique)                  â”‚
â”‚  ì¶œë ¥: {score: 4.5, pass: true, feedback: "..."}       â”‚
â”‚  êµ¬í˜„: ë‹¤ë¥¸ LLMìœ¼ë¡œ í‰ê°€                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Tool 5: save_to_db                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ì…ë ¥: hint (str), metrics (dict), user_id (int)       â”‚
â”‚  ê¸°ëŠ¥: DB ì €ì¥ ë° ë°°ì§€ ì²´í¬                            â”‚
â”‚  ì¶œë ¥: {"saved": true, "new_badges": [...]}            â”‚
â”‚  êµ¬í˜„: Django ORM                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ§  Agent State (ìƒíƒœ ê´€ë¦¬)

```python
class AgentState(TypedDict):
    """Agentê°€ ìœ ì§€í•˜ëŠ” ìƒíƒœ"""

    # ë©”ì‹œì§€ íˆìŠ¤í† ë¦¬ (ëŒ€í™” íë¦„)
    messages: Annotated[list, add_messages]

    # ì…ë ¥ ì •ë³´
    user_id: int
    problem_id: str
    user_code: str
    hint_config: dict

    # Tool ì‹¤í–‰ ê²°ê³¼ (ëˆ„ì )
    analysis_result: Optional[dict]
    similar_hints: Optional[list]
    generated_hints: list  # ì—¬ëŸ¬ ë²ˆ ìƒì„± ê°€ëŠ¥
    critique_results: list  # ê° íŒíŠ¸ì˜ í‰ê°€

    # ìµœì¢… ê²°ê³¼
    final_hint: Optional[str]
    db_saved: bool
```

---

## ğŸ” ê·¸ë˜í”„ êµ¬ì¡° (ì‹¤ì œ ì½”ë“œ)

```python
from langgraph.graph import StateGraph, END
from langgraph.prebuilt import ToolNode
from langchain_core.messages import HumanMessage, AIMessage

# === 1. State ì •ì˜ ===
class AgentState(TypedDict):
    messages: Annotated[list, add_messages]
    user_id: int
    problem_id: str
    user_code: str
    # ... ìœ„ ì°¸ê³ 

# === 2. Tools ì •ì˜ ===
from langchain_core.tools import tool

@tool
def analyze_code(user_code: str, problem_id: str) -> dict:
    """ì‚¬ìš©ì ì½”ë“œë¥¼ ë¶„ì„í•©ë‹ˆë‹¤"""
    from .code_analyzer import analyze_code
    return analyze_code(user_code, problem_id)

@tool
def search_similar_hints(problem_id: str, user_code: str) -> list:
    """ìœ ì‚¬í•œ ê³¼ê±° íŒíŠ¸ë¥¼ ê²€ìƒ‰í•©ë‹ˆë‹¤"""
    # ChromaDB ì¿¼ë¦¬
    return [...]

@tool
def generate_hint(context: dict, style: str = "balanced") -> str:
    """íŒíŠ¸ë¥¼ ìƒì„±í•©ë‹ˆë‹¤"""
    # LLM í˜¸ì¶œ
    return "..."

@tool
def critique_hint(hint: str, context: dict) -> dict:
    """íŒíŠ¸ í’ˆì§ˆì„ ê²€ì¦í•©ë‹ˆë‹¤"""
    # ë‹¤ë¥¸ LLMìœ¼ë¡œ í‰ê°€
    return {"score": 4.5, "pass": True}

@tool
def save_to_db(hint: str, metrics: dict, user_id: int) -> dict:
    """DBì— ì €ì¥í•©ë‹ˆë‹¤"""
    # Django ORM
    return {"saved": True}

tools = [analyze_code, search_similar_hints, generate_hint,
         critique_hint, save_to_db]

# === 3. LLM with Tools ===
from langchain_openai import ChatOpenAI  # ë˜ëŠ” HuggingFace

llm = ChatOpenAI(model="gpt-4")  # ì˜ˆì‹œ
llm_with_tools = llm.bind_tools(tools)

# === 4. Agent ë…¸ë“œ (í•µì‹¬!) ===
def agent_node(state: AgentState):
    """
    LLMì´ ë‹¤ìŒ í–‰ë™ì„ ê²°ì •í•˜ëŠ” ë…¸ë“œ

    LLMì´ ìƒê°í•˜ê³  ë„êµ¬ë¥¼ ì„ íƒí•¨
    """
    messages = state["messages"]

    # LLM í˜¸ì¶œ (ë„êµ¬ ì‚¬ìš© ê°€ëŠ¥)
    response = llm_with_tools.invoke(messages)

    # ì‘ë‹µì„ stateì— ì¶”ê°€
    return {"messages": [response]}

# === 5. ì¡°ê±´ë¶€ ë¼ìš°íŒ… ===
def should_continue(state: AgentState) -> str:
    """
    ë‹¤ìŒ ë…¸ë“œ ê²°ì •:
    - LLMì´ ë„êµ¬ í˜¸ì¶œí–ˆìœ¼ë©´ â†’ "tools"
    - ì‘ì—… ì™„ë£Œí–ˆìœ¼ë©´ â†’ END
    """
    last_message = state["messages"][-1]

    # LLMì´ ë„êµ¬ë¥¼ í˜¸ì¶œí–ˆëŠ”ê°€?
    if hasattr(last_message, 'tool_calls') and last_message.tool_calls:
        return "tools"

    # ì™„ë£Œ
    return END

# === 6. ê·¸ë˜í”„ êµ¬ì„± ===
workflow = StateGraph(AgentState)

# ë…¸ë“œ ì¶”ê°€
workflow.add_node("agent", agent_node)          # LLM ì‚¬ê³ 
workflow.add_node("tools", ToolNode(tools))     # ë„êµ¬ ì‹¤í–‰

# ì‹œì‘ì 
workflow.set_entry_point("agent")

# ì¡°ê±´ë¶€ ì—£ì§€: agent â†’ tools or END
workflow.add_conditional_edges(
    "agent",
    should_continue,
    {
        "tools": "tools",
        END: END
    }
)

# ë„êµ¬ ì‹¤í–‰ í›„ ë‹¤ì‹œ agentë¡œ (ìˆœí™˜!)
workflow.add_edge("tools", "agent")

# ì»´íŒŒì¼
app = workflow.compile()
```

---

## ğŸ¬ ì‹¤í–‰ ì‹œë‚˜ë¦¬ì˜¤ (ASCII)

```
ì‚¬ìš©ì â†’ [íŒíŠ¸ ìš”ì²­]
           â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   agent      â”‚  "ë¨¼ì € ì½”ë“œë¥¼ ë¶„ì„í•´ì•¼ê² ë‹¤"
    â”‚  (LLM ìƒê°)  â”‚
    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚ tool_calls: [analyze_code]
           â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   tools      â”‚  analyze_code ì‹¤í–‰
    â”‚  (ë„êµ¬ ì‹¤í–‰)  â”‚  â†’ {syntax_errors: 0, ...}
    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚ ê²°ê³¼ ë°˜í™˜
           â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   agent      â”‚  "ë¶„ì„ ê²°ê³¼ë¥¼ ë´¤ì–´. ìœ ì‚¬ íŒíŠ¸ ê²€ìƒ‰í• ê¹Œ?"
    â”‚  (LLM ì¬ì‚¬ê³ ) â”‚
    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚ tool_calls: [search_similar_hints]
           â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   tools      â”‚  search_similar_hints ì‹¤í–‰
    â”‚  (ë„êµ¬ ì‹¤í–‰)  â”‚  â†’ [{hint: "...", similarity: 0.85}]
    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   agent      â”‚  "ì¢‹ì•„, íŒíŠ¸ ìƒì„±í•˜ì"
    â”‚  (LLM ì¬ì‚¬ê³ ) â”‚
    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚ tool_calls: [generate_hint]
           â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   tools      â”‚  generate_hint ì‹¤í–‰
    â”‚  (ë„êµ¬ ì‹¤í–‰)  â”‚  â†’ "ì…ë ¥ì„ ë°›ìœ¼ë ¤ë©´..."
    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   agent      â”‚  "í’ˆì§ˆ ê²€ì¦í•´ë³´ì"
    â”‚  (LLM ì¬ì‚¬ê³ ) â”‚
    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚ tool_calls: [critique_hint]
           â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   tools      â”‚  critique_hint ì‹¤í–‰
    â”‚  (ë„êµ¬ ì‹¤í–‰)  â”‚  â†’ {score: 2.5, pass: false}
    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   agent      â”‚  "ì ìˆ˜ê°€ ë‚®ë„¤. ë‹¤ì‹œ ë§Œë“¤ì"
    â”‚  (LLM ì¬ì‚¬ê³ ) â”‚
    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚ tool_calls: [generate_hint, style="socratic"]
           â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   tools      â”‚  generate_hint ì¬ì‹¤í–‰
    â”‚  (ë„êµ¬ ì‹¤í–‰)  â”‚  â†’ "ì…ë ¥ì„ ì–´ë–»ê²Œ ë°›ì•„ì•¼ í• ê¹Œìš”?"
    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   agent      â”‚  "ë‹¤ì‹œ ê²€ì¦"
    â”‚  (LLM ì¬ì‚¬ê³ ) â”‚
    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚ tool_calls: [critique_hint]
           â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   tools      â”‚  critique_hint ì¬ì‹¤í–‰
    â”‚  (ë„êµ¬ ì‹¤í–‰)  â”‚  â†’ {score: 4.5, pass: true}
    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   agent      â”‚  "í†µê³¼! DB ì €ì¥í•˜ê³  ë"
    â”‚  (LLM ì¬ì‚¬ê³ ) â”‚
    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚ tool_calls: [save_to_db]
           â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   tools      â”‚  save_to_db ì‹¤í–‰
    â”‚  (ë„êµ¬ ì‹¤í–‰)  â”‚  â†’ {saved: true}
    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   agent      â”‚  "ì™„ë£Œ!"
    â”‚  (LLM ì¢…ë£Œ)  â”‚  tool_calls: None
    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
         [END]
    ìµœì¢… íŒíŠ¸ ë°˜í™˜
```

---

## ğŸ”¥ ì§„ì§œ LangGraphì˜ ê°•ì 

### 1. **ììœ¨ì„±**
- LLMì´ ìŠ¤ìŠ¤ë¡œ ìˆœì„œ ê²°ì •
- ê°œë°œìê°€ ëª¨ë“  ê²½ìš°ì˜ ìˆ˜ ì½”ë”© ë¶ˆí•„ìš”

### 2. **ìˆœí™˜ êµ¬ì¡°**
- í’ˆì§ˆ ë¯¸ë‹¬ â†’ ì¬ìƒì„± â†’ ì¬ê²€ì¦ (ë¬´í•œ ë£¨í”„ ê°€ëŠ¥)
- ì¼ë°˜ íŒŒì´í”„ë¼ì¸ì€ ë¶ˆê°€ëŠ¥

### 3. **Tool ì¶”ìƒí™”**
- í•¨ìˆ˜ë¥¼ `@tool`ë¡œ ê°ì‹¸ë©´ LLMì´ ìë™ìœ¼ë¡œ ì‚¬ìš©ë²• íŒŒì•…
- ë¬¸ì„œí™” ìë™

### 4. **ìƒíƒœ ìœ ì§€**
- ëª¨ë“  ì‹œë„ë¥¼ messagesì— ëˆ„ì 
- ì´ì „ ì‹œë„ë¥¼ ê¸°ì–µí•˜ê³  ê°œì„ 

### 5. **Human-in-the-Loop** (ì„ íƒ)
- ì¤‘ê°„ì— ì‚¬ëŒì´ ê°œì… ê°€ëŠ¥
- "ì´ íŒíŠ¸ ê´œì°®ì•„?" ë¬¼ì–´ë³´ê³  ìŠ¹ì¸ë°›ê¸°

---

## ğŸ“ˆ ë©”ì‹œì§€ íë¦„ ì˜ˆì‹œ

```python
# ì‹¤í–‰ ì‹œì‘
state = {
    "messages": [
        HumanMessage(content="ë¬¸ì œ 1000ë²ˆ íŒíŠ¸ ì¤˜, ì½”ë“œ: print(a+b)")
    ],
    "user_id": 1,
    "problem_id": "1000",
    "user_code": "print(a+b)"
}

# === 1íšŒì°¨: Agent ===
state["messages"].append(
    AIMessage(
        content="ì½”ë“œë¥¼ ë¨¼ì € ë¶„ì„í•˜ê² ìŠµë‹ˆë‹¤.",
        tool_calls=[{"name": "analyze_code", "args": {...}}]
    )
)

# === 1íšŒì°¨: Tools ===
state["messages"].append(
    ToolMessage(
        content='{"syntax_errors": 0, "pattern_match": 30%}',
        tool_call_id="call_123"
    )
)

# === 2íšŒì°¨: Agent ===
state["messages"].append(
    AIMessage(
        content="ë¶„ì„ ì™„ë£Œ. íŒ¨í„´ ì¼ì¹˜ë„ê°€ ë‚®ë„¤ìš”. ìœ ì‚¬ íŒíŠ¸ë¥¼ ê²€ìƒ‰í•˜ê² ìŠµë‹ˆë‹¤.",
        tool_calls=[{"name": "search_similar_hints", "args": {...}}]
    )
)

# ... ê³„ì† ëˆ„ì  ...

# ìµœì¢…
state["messages"][-1] == AIMessage(
    content="íŒíŠ¸: ì…ë ¥ì„ ì–´ë–»ê²Œ ë°›ì•„ì•¼ í• ê¹Œìš”?"  # tool_calls ì—†ìŒ â†’ ì¢…ë£Œ
)
```

---

## ğŸ¨ ì‹œê°í™” (ê°„ë‹¨ ë²„ì „)

```
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚       LangGraph Hint Agent          â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â–¼            â–¼            â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚Agent  â”‚â†’â†’â†’â”‚Tools  â”‚â†’â†’â†’â”‚ END    â”‚
        â”‚(LLM)  â”‚â†â†â†â”‚(ì‹¤í–‰) â”‚   â”‚(ì¢…ë£Œ)  â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â†‘            â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           (ë„êµ¬ ì‹¤í–‰ í›„ ì¬ì‚¬ê³ )

Agentê°€ í•˜ëŠ” ì¼:
- "ë‹¤ìŒ ë­ í• ê¹Œ?" ìƒê°
- ë„êµ¬ ì„ íƒ ë° í˜¸ì¶œ
- ê²°ê³¼ ê´€ì°° í›„ ì¬íŒë‹¨

Toolsê°€ í•˜ëŠ” ì¼:
- Agentê°€ ì„ íƒí•œ ë„êµ¬ ì‹¤í–‰
- ê²°ê³¼ ë°˜í™˜
- Agentì—ê²Œ ëŒì•„ê°
```

---

## ğŸ’¡ ìš”ì•½

| ê¸°ì¡´ (íŒŒì´í”„ë¼ì¸) | LangGraph (Agent) |
|------------------|-------------------|
| ê³ ì •ëœ ìˆœì„œ | **LLMì´ ìˆœì„œ ê²°ì •** |
| ë‹¨ë°©í–¥ | **ìˆœí™˜ ê°€ëŠ¥** |
| ì¡°ê±´ë¬¸ìœ¼ë¡œ ë¶„ê¸° | **LLMì´ íŒë‹¨** |
| í•œ ë²ˆ ì‹¤í–‰ | **ìê¸° ê°œì„  ë£¨í”„** |
| ë„êµ¬ ì§ì ‘ í˜¸ì¶œ | **LLMì´ ë„êµ¬ ì„ íƒ** |

---

ì´ê²Œ **ì§„ì§œ LangGraph**ì…ë‹ˆë‹¤!
